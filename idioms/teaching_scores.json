{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 400,
  "height": 200,
  "title": "Top 10 Universities Ranked by Teaching Scores",
  "data": {"url": "https://raw.githubusercontent.com/cchwee/viz_worlduniranking/main/universities_scores.csv"},
  "transform": [
    {
      "window": [{
          "op": "rank",
          "as": "rank"
        }],
        "sort":[{"field": "teaching score","order": "descending"}]
    }, {
      "filter": "datum.rank <= 10"
    }
  ],
  "mark": "bar",
  "encoding": {
    "y": {
      "field": "title",
      "type": "ordinal",
      "sort": "-x",
      "title": "Top 10 Best Teaching Scores"
    },
    "x": {
      "aggregate": "sum",
      "field": "overall score",
      "scale": {
        "domain": [80,100]
      },
      "title": "Teaching Score"
    },
    "color": {"value": "#ed1b36"},
    "tooltip":[
    {"field":"title", "type": "ordinal", "title": "University"},
    {"field": "teaching score", "title": "Teaching Score"}
    ]
  }
}
